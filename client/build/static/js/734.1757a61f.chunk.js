"use strict";(self.webpackChunkforum_sample=self.webpackChunkforum_sample||[]).push([[734],{2265:function(e,n,t){t.r(n),t.d(n,{default:function(){return ie}});var r=t(9439),a=t(5987),o=t(228),i=t(4565),l=t(2791),d=t(6459),c=t(1413),s=t(3244),u=t(9276),p=t(9434),g=t(501),f=t(1897),m=t(2426),h=t.n(m),x=t(277),y=t(8928),b=((0,x.ZP)(o.Z)((function(e){var n=e.theme;return{marginTop:n.spacing(2),marginLeft:n.spacing(2),marginRight:n.spacing(2),display:"flex",flexDirection:"column"}})),(0,x.ZP)(i.Z)((function(e){e.theme;return{fontFamily:"Roboto",fontSize:25,fontWeight:500}})),(0,x.ZP)(o.Z)((function(e){var n=e.theme;return{display:"flex",flexWrap:"wrap",justifyContent:"center",marginTop:n.spacing(1),borderColor:n.palette.border.main,padding:n.spacing(.5)}})),(0,x.ZP)(o.Z)((function(e){var n=e.theme;return{display:"flex",flexWrap:"wrap",justifyContent:"center",backgroundColor:n.palette.neutral.main,marginTop:n.spacing(1),borderColor:n.palette.border.main,borderRadius:n.spacing(3),padding:n.spacing(2),margin:n.spacing(1.3)}})),(0,x.ZP)(y.Z)((function(e){var n=e.theme;return{backgroundColor:n.palette.neutral.main,flex:1,height:"fit-content",borderRadius:n.spacing(3),marginRight:n.spacing(1),marginLeft:n.spacing(1),marginTop:n.spacing(1),marginBottom:n.spacing(1),padding:n.spacing(1)}})),(0,x.ZP)(y.Z)((function(e){var n=e.theme;return{backgroundColor:n.palette.neutral.main,width:"100%",height:"fit-content",borderRadius:n.spacing(3),marginRight:n.spacing(1),marginLeft:n.spacing(1),marginTop:n.spacing(1),marginBottom:n.spacing(1),padding:n.spacing(1)}})),(0,x.ZP)(s.b2)((function(e){var n=e.theme;return{padding:"50px",".MainLayout-flexRow":{padding:"100px"},".rbc-today":{backgroundColor:n.palette.neutral.main},".rbc-active":{backgroundColor:n.palette.neutral.light}}}))),Z=(0,x.ZP)(s.hU)((function(e){var n=e.theme;return{".MainLayout-background":{backgroundColor:"red !important"},".rbc-today":{backgroundColor:n.palette.neutral.main},".rbc-active":{backgroundColor:n.palette.neutral.light}}})),j=(0,x.ZP)(s.hU.DayScaleRow)((function(e){return{backgroundColor:e.theme.palette.neutral.light}})),v=(0,x.ZP)(s.hU.TimeScaleLayout)((function(e){return{backgroundColor:e.theme.palette.neutral.light}})),C=(0,x.ZP)(s.hU.Layout)((function(e){var n=e.theme;return{borderRadius:n.spacing(3),".MuiTableCell-root,.MainLayout-ordinaryLeftPanelBorder,.MainLayout-ordinaryHeaderBorder,.MainLayout-brightHeaderBorder":{borderColor:n.palette.border.light,borderRightColor:"".concat(n.palette.border.light,"!important")},".Appointment-clickableAppointment":{filter:"dark"==n.mode?"brightness(85%)":"",color:"white !important"},".MainLayout-dayScaleEmptyCell":{backgroundColor:n.palette.neutral.light}}})),k=(0,x.ZP)(s.wq.Layout)((function(e){var n=e.theme;return{borderRadius:n.spacing(3),".MuiTableCell-root,.MainLayout-ordinaryLeftPanelBorder,.MainLayout-ordinaryHeaderBorder,.MainLayout-brightHeaderBorder":{borderColor:n.palette.border.light,borderRightColor:"".concat(n.palette.border.light,"!important")},".Appointment-clickableAppointment":{filter:"dark"==n.mode?"brightness(85%)":"",color:"white !important"},".MainLayout-background":{backgroundColor:n.palette.neutral.light}}})),P=t(5953),w=t(1091),L=t(4569),W=t.n(L),R=t(9455),B="".concat(R.LB,"api/v1/groups"),D=t(8704),S=t(5209),M=t(184),T=["children","appointmentData"],U=["children","appointmentData","onDeleteButtonClick","user"],A=function(e){e.children;var n,t=e.appointmentData,r=(0,a.Z)(e,T);return(0,M.jsx)(s.fi.Content,(0,c.Z)((0,c.Z)({},r),{},{appointmentData:t,children:(0,M.jsxs)(P.ZP,{container:!0,alignItems:"center",children:[(0,M.jsx)(P.ZP,{item:!0,xs:2,sx:{justifyContent:"center"},children:(0,M.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,M.jsx)(g.Z,{})})}),(0,M.jsx)(P.ZP,{item:!0,xs:10,children:(0,M.jsx)("span",{children:t.createdBy.name})}),(0,M.jsx)(P.ZP,{item:!0,xs:2,sx:{justifyContent:"center"},children:(0,M.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,M.jsx)(f.Z,{})})}),(0,M.jsx)(P.ZP,{item:!0,xs:10,children:(0,M.jsx)("span",{children:null===(n=t.class)||void 0===n?void 0:n.name})})]})}))},H=function(e){e.children;var n=e.appointmentData,t=e.onDeleteButtonClick,r=e.user,o=(0,a.Z)(e,U),i=r._id==n.createdBy._id;return(0,M.jsx)(s.fi.Header,(0,c.Z)((0,c.Z)({},o),{},{appointmentData:n,onDeleteButtonClick:t,showDeleteButton:i}))},I=function(){var e=(0,p.v9)((function(e){return e.events})),n=(0,p.v9)((function(e){return e.auth.user})),t=(0,p.v9)((function(e){return e.workgroups.currentWorkgroup})),a=(0,p.v9)((function(e){var n,t;return null===(n=e.auth)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.token})),o=(0,l.useState)("Week"),i=(0,r.Z)(o,2),g=i[0],f=i[1],m=(0,p.I0)(),x=function(){return(0,M.jsx)(u.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:(0,M.jsx)(w.Z,{sx:{flex:1},onClick:function(){f("Week"==g?"Month":"Week")},children:g.charAt(0)})})};return(0,M.jsx)(u.Z,{sx:{minWidth:0},children:(0,M.jsxs)(b,{data:e.data||[],height:660,children:[(0,M.jsx)(D.C7,{onCommitChanges:function(e){e.added,e.changed;var n=e.deleted;void 0!==n&&(console.log("deletion"),function(e,n,t){return W().delete("".concat(B,"/").concat(e,"/events/").concat(n),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return Promise.resolve(e.data.data)}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return Promise.reject(n)}))}(null===t||void 0===t?void 0:t._id,n,a).then((function(){return m((0,S.v)(t._id,a))})))}}),(0,M.jsx)(D.f7,{defaultCurrentDate:h()(),currentViewName:g}),(0,M.jsx)(Z,{startDayHour:9,dayScaleRowComponent:j,timeScaleLayoutComponent:v,layoutComponent:C,dayScaleEmptyCellComponent:function(){return(0,M.jsx)(x,{})}}),(0,M.jsx)(s.wq,{layoutComponent:k}),(0,M.jsx)(D.VU,{}),(0,M.jsx)(s.JW,{}),(0,M.jsx)(s.fi,{contentComponent:A,headerComponent:function(e){var t=Object.assign({},((0,d.Z)(e),e));return(0,M.jsx)(H,(0,c.Z)((0,c.Z)({},t),{},{user:n}))},showDeleteButton:!0})]})})},O=t(5764),_=t(3154),E=t(813),F=t(847),q=(0,x.ZP)(o.Z)((function(e){var n=e.theme;return{marginTop:n.spacing(2),marginLeft:n.spacing(2),marginRight:n.spacing(2),display:"flex",flexDirection:"column"}})),z=((0,x.ZP)(i.Z)((function(e){e.theme;return{fontFamily:"Roboto",fontSize:25,fontWeight:500}})),(0,x.ZP)(o.Z)((function(e){return{display:"flex",flex:1,flexWrap:"wrap",justifyContent:"center",borderColor:e.theme.palette.border.main}}))),G=(0,x.ZP)(o.Z)((function(e){return{display:"flex",flex:1,flexWrap:"wrap",justifyContent:"center",borderColor:e.theme.palette.border.main,"@media (max-width: 768px)":{flex:"1 1 100%"}}})),N=(0,x.ZP)(o.Z)((function(e){var n=e.theme;return{display:"flex",flexWrap:"wrap",justifyContent:"center",backgroundColor:n.palette.neutral.main,marginTop:n.spacing(1),borderColor:n.palette.border.main,borderRadius:n.spacing(3),margin:n.spacing(1.3)}})),V=(0,x.ZP)(y.Z)((function(e){var n=e.theme;return{backgroundColor:n.palette.neutral.light,flex:"1 0 25%",borderRadius:n.spacing(3),marginRight:n.spacing(1),marginLeft:n.spacing(1),marginTop:n.spacing(1),marginBottom:n.spacing(1),padding:n.spacing(0)}})),J=((0,x.ZP)(y.Z)((function(e){var n=e.theme;return{backgroundColor:n.palette.neutral.main,width:"100%",height:"fit-content",borderRadius:n.spacing(3),marginRight:n.spacing(1),marginLeft:n.spacing(1),marginTop:n.spacing(1),marginBottom:n.spacing(1),padding:n.spacing(1)}})),(0,x.ZP)(s.b2)((function(e){var n=e.theme;return{padding:"50px",".MainLayout-flexRow":{padding:"100px"},".rbc-today":{backgroundColor:n.palette.neutral.main},".rbc-active":{backgroundColor:n.palette.neutral.light}}})),(0,x.ZP)(s.hU)((function(e){var n=e.theme;return{".MainLayout-background":{backgroundColor:"red !important"},".rbc-today":{backgroundColor:n.palette.neutral.main},".rbc-active":{backgroundColor:n.palette.neutral.light}}})),(0,x.ZP)(s.hU.DayScaleRow)((function(e){return{backgroundColor:e.theme.palette.neutral.light}})),(0,x.ZP)(s.hU.DayScaleEmptyCell)((function(e){return{backgroundColor:e.theme.palette.neutral.light}})),(0,x.ZP)(s.hU.TimeScaleLayout)((function(e){return{backgroundColor:e.theme.palette.neutral.light}})),(0,x.ZP)(s.hU.Layout)((function(e){var n=e.theme;return{borderRadius:n.spacing(3),".MuiTableCell-root,.MainLayout-ordinaryLeftPanelBorder,.MainLayout-ordinaryHeaderBorder,.MainLayout-brightHeaderBorder":{borderColor:n.palette.border.light},".Appointment-clickableAppointment":{filter:"dark"==n.mode?"brightness(85%)":"",color:"white !important"}}})),t(1187)),K=t.n(J),Q=t(3854),Y=t(3968),$=t(7447),X=t(9230),ee=t(3504),ne=t(873),te=h()().endOf("day"),re=function(e){return[{when:"today",count:null===e||void 0===e?void 0:e.filter((function(e){return 0==h()(e.endDate).endOf("day").diff(te,"days")})).length},{when:[h()().add(1,"days").format("dddd")],count:null===e||void 0===e?void 0:e.filter((function(e){return 1==h()(e.endDate).endOf("day").diff(te,"days")})).length},{when:[h()().add(2,"days").format("dddd")],count:null===e||void 0===e?void 0:e.filter((function(e){return 2==h()(e.endDate).endOf("day").diff(te,"days")})).length},{when:[h()().add(3,"days").format("dddd")],count:null===e||void 0===e?void 0:e.filter((function(e){return 3==h()(e.endDate).endOf("day").diff(te,"days")})).length}]},ae=["files","name","extensions","icon"],oe=function(e){var n=e.files,t=e.name,r=e.extensions,l=e.icon,d=((0,a.Z)(e,ae),Array.isArray(n)?n.filter((function(e){return r.includes(K().getExtension(e.mimetype))})).length:0);return(0,M.jsx)(V,{elevation:0,sx:{padding:2.5},children:(0,M.jsx)(ee.rU,{style:{textDecoration:"none"},to:"/group-files",state:{extensions:r,name:t},children:(0,M.jsxs)(o.Z,{sx:{display:"flex",gap:1},children:[(0,M.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",borderRadius:4},children:l}),(0,M.jsx)(i.Z,{color:"text.primary",sx:{display:"flex",alignItems:"center",fontWeight:500},noWrap:!0,children:t}),(0,M.jsx)(o.Z,{sx:{display:"flex",flex:1,justifyContent:"flex-end"},children:(0,M.jsx)(i.Z,{color:"text.secondary",children:d})})]})})})},ie=function(e){var n=(0,l.useState)(!0),t=(0,r.Z)(n,2),a=(t[0],t[1]),d=(0,X.$G)().t,c=(0,ne.P1)((function(e){var n;return null===(n=e.classes)||void 0===n?void 0:n.data}),(function(e){return null===e||void 0===e?void 0:e.map((function(e){return e.documents})).flat()})),s=(0,p.v9)(c),u=(0,p.v9)((function(e){return e.events})),g=(0,p.v9)((function(e){return e.workgroups.currentWorkgroup}));return setTimeout((function(){a(!1)}),2e3),(0,M.jsxs)(q,{children:[(0,M.jsx)(o.Z,{className:"welcomeTextWrapper"}),(0,M.jsxs)(o.Z,{sx:{display:"flex",flexWrap:"wrap"},children:[(0,M.jsxs)(z,{sx:{flexWrap:"wrap"},children:[(0,M.jsx)(oe,{files:s,name:d("WelcomeScreen.images"),extensions:["png","jpg","jpeg"],icon:(0,M.jsx)(O.Z,{sx:{color:"#20a245"}})}),(0,M.jsx)(oe,{files:s,name:d("WelcomeScreen.docs"),extensions:["pdf","docx","doc"],icon:(0,M.jsx)(E.Z,{sx:{color:"#3f7af0"}})}),(0,M.jsx)(oe,{files:s,name:d("WelcomeScreen.videos"),extensions:["mp3"],icon:(0,M.jsx)(_.Z,{sx:{color:"#fe4976"}})}),(0,M.jsx)(oe,{files:s,name:d("WelcomeScreen.others"),extensions:["exe"],icon:(0,M.jsx)(F.Z,{sx:{color:"#6a4bfc"}})})]}),(0,M.jsx)(G,{sx:{display:"flex",alignItems:"stretch",padding:0},children:(0,M.jsxs)(V,{elevation:0,sx:{padding:2.4,paddingBottom:g?0:2.4},children:[(0,M.jsx)(i.Z,{color:"text.primary",sx:{display:"flex",alignItems:"center",fontWeight:500},children:d("WelcomeScreen.events")}),g?(0,M.jsxs)(Q.kL,{data:re(u.data),height:100,children:[(0,M.jsx)($.u1,{factory:Y.ti}),(0,M.jsx)(Q.xH,{}),(0,M.jsx)(Q.QG,{valueField:"count",argumentField:"when",name:"Young"}),(0,M.jsx)($.Kq,{})]}):(0,M.jsx)(i.Z,{children:d("WelcomeScreen.noevents")})]})})]}),(0,M.jsx)(N,{children:(0,M.jsx)(I,{})})]})}}}]);
//# sourceMappingURL=734.1757a61f.chunk.js.map