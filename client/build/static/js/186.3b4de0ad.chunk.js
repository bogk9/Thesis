"use strict";(self.webpackChunkforum_sample=self.webpackChunkforum_sample||[]).push([[186],{5186:function(e,n,r){r.r(n),r.d(n,{default:function(){return C}});var t=r(5861),i=r(9439),a=r(6459),o=r(4687),u=r.n(o),s=r(2791),c=r(3688),l=r(9434),d=r(6871),f=r(347),m=r(277),p=r(228),g=r(4565),h=r(1091),v=((0,m.ZP)(p.Z)((function(e){e.theme;return{display:"flex",justifyContent:"space-between"}})),(0,m.ZP)(g.Z)({fontSize:25,fontWeight:500}),(0,m.ZP)(p.Z)((function(e){var n=e.theme;return{display:"flex",flex:"1",flexDirection:"column",backgroundColor:n.palette.neutral.light,padding:n.spacing(2),borderRadius:n.spacing(2),marginTop:n.spacing(2)}})),(0,m.ZP)(p.Z)((function(e){var n=e.theme;return{marginTop:n.spacing(2),backgroundColor:n.palette.neutral.light,borderRadius:"1rem",display:"grid",gridTemplateRows:"10vh 60vh 13vh"}}))),x=(0,m.ZP)(p.Z)((function(e){var n=e.theme;return{display:"flex",padding:n.spacing(2),alignItems:"center",gap:n.spacing(1)}})),b=(0,m.ZP)(p.Z)((function(e){e.theme;return{display:"flex",flexDirection:"column",gap:"0.5rem",padding:"1.5rem",overflow:"scroll"}})),Z=(0,m.ZP)(p.Z)((function(e){return{background:e.theme.palette.neutral.light,display:"flex",justifyContent:"space-between",height:"3.5rem",alignItems:"center",gap:"1rem",padding:"0.8rem",bordeRadius:"1rem",alignSelf:"end"}})),j=(0,m.ZP)(p.Z)((function(e){e.theme;var n=e.own;return{background:n?"lightblue":"green",alignSelf:n?"flex-end":"flex-start",borderRadius:n?"1rem 1rem 0 1rem":"1rem 1rem 1rem 0",color:"white",padding:"0.7rem",maxWidth:"28rem",width:"fit-content",display:"flex",flexDirection:"column",gap:"0.5rem"}})),k=(0,m.ZP)(h.Z)((function(e){var n=e.theme;return{borderRadius:n.spacing(4),backgroundColor:"#8361e8",marginLeft:n.spacing(2),width:"30%"}})),w=r(184),y=s.lazy((function(){return r.e(379).then(r.bind(r,3379))})),C=function(e){Object.assign({},((0,a.Z)(e),e));var n,r,o,m=(0,l.I0)(),p=(0,d.UO)().conversationId,h=(0,l.v9)((function(e){return e.auth.user})),C=(0,l.v9)((function(e){return e.workgroups.currentWorkgroup})),I=(0,l.v9)((function(e){var n;return null===(n=e.messages)||void 0===n?void 0:n.conversations.find((function(e){return e._id==p}))})),P=(0,s.useState)(""),_=(0,i.Z)(P,2),R=_[0],S=_[1],D=(0,s.useRef)();(0,s.useEffect)((function(){I&&m((0,f.Ug)(p,h.token))}),[p,h]),(0,s.useEffect)((function(){var e;null===(e=D.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[null===I||void 0===I?void 0:I.messages]);var T=function(){var e=(0,t.Z)(u().mark((function e(n){var r,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r=I.members.find((function(e){return e!==h._id})),t={senderId:h._id,text:R,conversationId:p,receiverId:r},m((0,f.bG)(t,h.token)).then((function(){return S("")}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(s.Suspense,{fallback:(0,w.jsx)("div",{children:"Just a moment..."}),children:(0,w.jsx)(v,{children:I?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x,{children:(0,w.jsx)(g.Z,{fontSize:22,color:"text.primary",children:null===C||void 0===C||null===(n=C.members)||void 0===n||null===(r=n.find((function(e){return e._id==I.members.find((function(e){return e!==h._id}))})))||void 0===r?void 0:r.name})}),(0,w.jsx)(b,{children:null===I||void 0===I||null===(o=I.messages)||void 0===o?void 0:o.map((function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(j,{ref:D,own:e.senderId===h._id,children:[(0,w.jsx)(g.Z,{children:e.text})," ",(0,w.jsx)(g.Z,{children:(0,c.WU)(e.createdAt)})]})})}))}),(0,w.jsxs)(Z,{children:[(0,w.jsx)(y,{value:R,onChange:function(e){S(e)}}),(0,w.jsx)(k,{variant:"contained",onClick:T,children:"Send"})]})," "]}):(0,w.jsx)("span",{className:"chatbox-empty-message",children:"Tap on a chat to start conversation..."})},p)})})}}}]);
//# sourceMappingURL=186.3b4de0ad.chunk.js.map